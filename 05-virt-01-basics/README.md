
# Домашнее задание к занятию "1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."


## Как сдавать задания

Обязательными к выполнению являются задачи без указания звездочки. Их выполнение необходимо для получения зачета и диплома о профессиональной переподготовке.

Задачи со звездочкой (*) являются дополнительными задачами и/или задачами повышенной сложности. Они не являются обязательными к выполнению, но помогут вам глубже понять тему.

Домашнее задание выполните в файле readme.md в github репозитории. В личном кабинете отправьте на проверку ссылку на .md-файл в вашем репозитории.

Любые вопросы по решению задач задавайте в чате учебной группы.

---

## Важно!

Перед отправкой работы на проверку удаляйте неиспользуемые ресурсы.
Это важно для того, чтоб предупредить неконтролируемый расход средств, полученных в результате использования промокода.

Подробные рекомендации [здесь](https://github.com/netology-code/virt-homeworks/blob/virt-11/r/README.md)

---

## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

Ответ: 
1) В аппаратной виртуализации нет прослойки в виде хостовой ОС благодаря добавлению инструкций в центральный процессор. гостевой ОС нужен 0 уровень доступа для обращения к аппаратным ресурсам. Роль хостовой ОС выполняет гипервизор (ESXI, Citrix, XEN, etc.)
2) В паравиртуализации необходима ОС для доступа к аппаратным ресрусам хоста. Сам гипервизор производит модификацию ядра гостевой ОС для разделения доступа к аппаратным средствам физ сервера (Virtual Box, KVM, etc)
3) Виртуализация на основе ОС позволяет запускать изолированные и безопасные виртуальные машины на одном хосте, при условии что тип ядер гостевых ОС не отличины от хостовой. В роле гипервизора выступает ядро хостовой ОС. Леговесные vm - контейнеры (Docker, OpenVZ, LXC etc.)

## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:
- Высоконагруженная база данных, чувствительная к отказу.
- Различные web-приложения.
- Windows системы для использования бухгалтерским отделом.
- Системы, выполняющие высокопроизводительные расчеты на GPU.
Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

Ответ:
1) Высоконагруженная база данных, чувствительная к отказу: Виртуализация на основе ОС, т.к. база данных это сервис, то можно ее удобно запаковать в контейнер. Для предотвращения отказов можно собрать кластер из контейнеров.

2) Различные web-приложения: Также по моему мнению нужно использовать виртуализацию уровня ОС, при условии что приложения должны работать на том же ядре, что и ядро хостовой ОС. В ином случае можно использовать паравиртуализацию будет более накладно и менее гибко в плане управления ресурсами.

3) Windows системы для использования бухгалтерским отделом: Удобнее использовать паравиртуализацию, хостовую ОС можно использовать как единый центр управления виртуальными машинами. Сам кейс не подразумевает использования высокой нагрузки и количества обращений.

4) Системы, выполняющие высокопроизводительные расчеты на GPU: Физические сервера, так как потребуется высокая эффективность в утилизации аппаратных мощностей GPU.


## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

Ответ: 
1) VMWare. В рамках продуктов виртуализации и управления, решения от VMWare являются наиболее надежными и сбалансированными. Гибкость в настройках миграции и резервных копий

2) KVM/Proxmox. Решение на базе KVM позволит управлять гостевыми ОС, как Windows, так и Linux, без особых потерь в производительности, что обеспечивает решение поставленной задачи. Так как проект опенсорсный есть определенные риски, которыми можно пренебречь в угоду производительности.

3) XEN PV. Решение позволит поднять инфраструктуру на базе Windows OS.

4) Virtual Box/ VMWare Player. Для создания окружения для тестирования подойдет open source решение Virtual Box или также бесплатный, но урезанное решение от VMWAre - VMWare Player.

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

Ответ: Основными недостатками такой среды я вижу: 
1) в первую очередь необходимость иметь персонал с достаточной квалификацией для поддержания необходимого уровня надежности и работоспособности всех систем
2) увеличивается сложность в эксплуатации, поддержания должного уровня безопасности и отказоустойчивости
3) сложность в управлении и мониторингу такой среды
Для минимазации вышеописанных рисков необходимо собрать и опредлить требования к среде виртуализации, детально продумать и принять решение в пользу наиболее подходящей исходя из потребностей в производительности, надежности, гибкости и масштабируемости. 
К сожалению на данный момент нет среды виртуализации, которая бы удовлетворяла всем потребностям бизнеса и в тоже время была бы "бесплатной". Решение в пользу гетерогенной среды оправдано в случае поддержания некоего технологического баланса. Например можно использовать для продуктовой среды коммерческую систему виртуализации с достаточным уровнем поддержки и функционалом, для тестовых сред и внутренних нужд ограничится открытыми и легкоразвертываемыми системами.
